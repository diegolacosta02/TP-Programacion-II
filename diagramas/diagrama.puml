@startuml Trabajo Practico Alquiler de Autos

enum EstadoVehiculo {
    DISPONIBLE
    EN_ALQUILER
    EN_MANTENIMIENTO
    NECESITA_LIMPIEZA
}
enum Temporada {
   BAJA
   ALTA 
   MEDIA 
}
class gestorTemporadas {
    + getPorcentajeTemporada(reserva:Reserva):number
    + getTemporada(reserva:Reserva)
}

class verificadorVehiculo {
    + puedeReservarse(vehiculo:Vehiculo):boolean

}

class DriveHub {
    - vehiculo: Vehiculo[]
    - cliente: Cliente[]
    - reservas: Reserva[]

    + ingresarVehiculo(v: Vehiculo): void
    + ingresarReserva(c: Cliente, v: Vehiculo): void
    + agregarMantenimientoAVehiculo () : void
}

abstract class Vehiculo {
    # nombre: string
    # matricula: number
    # estado: string
    # kilometraje: number
    # historialMantenimiento: Mantenimiento[]

    + abstract calcularTarifa(reserva: Reserva): number
    + agregarMantenimiento(m: Mantenimiento): void
    + getHistorialMantenimiento(): Mantenimiento[]
    + getCostoTotalMantenimientos(): number
    + setEstado(estado: string): void
    + getEstado(): string
}


class Compacto  {
    - tarifaBase: number
    - cargoAdicional: number
    - kmPermitidos:number
    + calcularTarifa(reserva: Reserva): number
}

class Sedan  {
    - tarifaBase: number
    - cargoAdicional: number
    + calcularTarifa(reserva: Reserva): number
}

class SUV  {
    - tarifaBase: number
    - cargoAdicional: number
    - cargoFijoSeguro: number
    - kmPermitidos:number
    + calcularTarifa(reserva: Reserva): number
}

class Cliente {
    - dni: number
    - nombre: string
    - telefono: number
    - reservas: Reserva[]

}

class Reserva {
    - cliente: Cliente
    - vehiculo: Vehiculo
    - fechaInicio: Date
    - fechaFin: Date
    - kmRecorridos: number

    + getDiasReservados(): number
    + setKmRecorridos(km: number): void
    + getKmRecorridos(): number
    + getVehiculo(): Vehiculo
    + getCliente(): Cliente
    + getFechaInicio(): Date
    + getFechaFin(): Date
}

class Mantenimiento {
    - fecha: Date
    - costo: number
    - descripcion: string

    + getFecha(): Date
    + getCosto(): number
    + getDescripcion(): string
}
Vehiculo <|-- Compacto
Vehiculo <|-- Sedan
Vehiculo <|-- SUV

DriveHub  --  Vehiculo
DriveHub--  Cliente
DriveHub  *--  Reserva
Vehiculo  o-u-  Mantenimiento

Reserva  -->  Cliente
Reserva  -l->  Vehiculo
Cliente  -r->  Reserva



@enduml